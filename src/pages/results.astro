---
import { Menu } from '@/components/Menu/Menu'
import { MenuMini } from '@/components/Menu/MenuMini'
import { SearchResults } from '@/components/Results/SearchResults'
import Layout from '@/layouts/Layout.astro'

const { pathname, searchParams } = Astro.url
const query = searchParams.get('search')

if (!query) return Astro.redirect('/')
---

<Layout title={query}>
  <Menu client:load transition:persist />
  <MenuMini pathname={pathname} client:load transition:persist />
  <SearchResults client:load />
</Layout>