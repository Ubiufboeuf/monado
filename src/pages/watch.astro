---
import Layout from '@/layouts/Layout.astro'
import { Watch as WatchCentralizedComponent } from '@/components/Watch/Watch'
import { Player } from '@/components/Watch/Player'

export const prerender = false

const id = Astro.url.searchParams.get('v')
if (!id) {
  return Astro.redirect('/')
}
---

<Layout useTransitions>
  <WatchCentralizedComponent id={id} client:load>
    <Player class='w-full h-fit max-w-full max-h-full select-none' client:load transition:persist />
  </WatchCentralizedComponent>
</Layout>